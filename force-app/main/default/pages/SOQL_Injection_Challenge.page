<apex:page controller="SOQL_Injection_Challenge" sidebar="false" tabStyle="SOQL_Injection_Challenge__tab">
<apex:sectionHeader title="SOQL Injection Challenge" />
<apex:form >
    <apex:pageBlock >
        <c:Classic_Error />
        <apex:pageMessages />      
        <apex:pageBlockSection title="Demo" columns="1" id="tableBlock">
        <apex:outputPanel >
        Search the existing supplies!
        </apex:outputPanel>
        <apex:outputPanel >
            Search by supply name:
            <apex:inputtext value="{!textual}"/>
        </apex:outputPanel>           
        <apex:commandButton value="Perform Search" action="{!whereclause_search}"/>
        
        <apex:pageBlockTable value="{!whereclause_records}" var="r">
            <apex:column headervalue="ID">         
                <apex:outputField value="{!r.Id}"/>
            </apex:column> 

            <apex:column headervalue="Name">         
                <apex:outputField value="{!r.name}"/>
            </apex:column> 
            
            <apex:column headervalue="Quantity">         
                <apex:outputField value="{!r.Quantity__c}"/>
            </apex:column> 

            <apex:column headervalue="Castle">         
                <apex:outputField value="{!r.Storage_Location__r.Castle__c}"/>
            </apex:column> 

            <apex:column headervalue="Storage Location">         
                <apex:outputField value="{!r.Storage_Location__c}"/>
            </apex:column> 
                                                                                                            
        </apex:pageBlockTable> 
       
        </apex:pageBlockSection>
        <apex:pageBlockSection title="Code links" columns="1">
            <apex:outputPanel >
                <ul>
                    <li><c:codeLink type="Visualforce" namespace="security_thail" name="SOQL_Injection_Challenge" description="Visualforce Page"/></li>            
                    <li><c:codeLink type="Apex" namespace="security_thail" name="SOQL_Injection_Challenge" description="Apex Controller"/></li>
                </ul>
            </apex:outputPanel>        
        </apex:pageBlockSection>        
    </apex:pageBlock>          
</apex:form>              
</apex:page>